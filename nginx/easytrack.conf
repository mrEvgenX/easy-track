upstream django {
    #server unix:///easytrack/django/easytrack.sock;
    server 127.0.0.1:8000;
}

server {
        listen 80;
        server_name 0.0.0.0;

        charset utf-8;

        location /static {
                root /easytrack;
        }

        location /api/ {
                include uwsgi_params;
                uwsgi_pass django;
        }

        location /admin {
                include uwsgi_params;
                uwsgi_pass django;
        }

        location / {
                root /easytrack/react;
                try_files $uri /index.html;
        }
}

# server {
#         listen       443 ssl;
#         server_name  0.0.0.0;

#         charset utf-8;

#         keepalive_timeout   60;
#         ssl_certificate      certificate_bundled.crt;
#         ssl_certificate_key  privatekey.key;
#         ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
#         ssl_ciphers  "HIGH:!RC4:!aNULL:!MD5:!kEDH";
#         add_header Strict-Transport-Security 'max-age=604800';


#         location /static {
#                 root /easytrack;
#         }

#         location /api/ {
#                 include uwsgi_params;
#                 uwsgi_pass django;
#         }

#         location /admin {
#                 include uwsgi_params;
#                 uwsgi_pass django;
#         }

#         location / {
#                 root /easytrack/react;
#         }
# }
